![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)
# R2AKT_RS485
R2AKT_RS485 - библиотека обмена данными в пакетном режиме по шине RS-485.
Используются библиотеки R2AKT_CRC, R2AKT_Esc_DeEsc, R2AKT_COBS.

Позволяет передавать данные по общей шине (RS-485, любая симплексная среда) между 254 устройствами.
Адресация*:
	- 0x00 - ведущий (Master);
	- 0x01 - 0xFE - ведомые (Slave);
	- 0xFF - Широковещательный (Broadcast).
*Роль ведущего может исполнять устройство с любым допустимым адресом, но ведущим
в единый момент времени должно быть ТОЛЬКО одно устройство. 

Адрес устройства, максимальный размер данных, порт (аппаратный или программный)
и скорость обмена, вывод отвечающий за переключение приёмо-передатчика и/или
индикатор активности указывается при создании объекта.

Адрес устройства в процессе работы не меняется, при использовании низкоуровневых функций
задаётся в отправляемых данных (RAW), как и CRC16.

Отправка данных осуществляется с блокированием (на всё время от момента поднятия сигнала передачи
до момента снятия сигнала передачи), чтение возможно как в режиме опроса (по умолчанию), так
и в режиме блокирования (опционально задаётся при создании объекта или при вызове соответствующих
функций чтения).

Отправка данных до 250 байт возможна в режиме COBS или KISS (SLIP) на выбор, при
указании максимального размера отправляемых данных более 250 байт автоматически
выбирается режим KISS (SLIP), т.к. в режиме COBS передача более 255 байт с учётом накладных
расходов не возможна. Режим задаётся при создании объекта, не меняется при работе.

Пользовательские данные проверяются на искажение с помощью CRC16.

Принудительной защиты от приёма данных с собственного адреса и/или от широковещательного адреса нет,
но отмечается в переменной кода ошибки.


### Совместимость
Совместима со всеми платформами Arduino, для совместимости с остальными платформами требуется
изменение функций работы с аппаратными/программными портами UART.

<a id="example"></a>
## Пример
Примеры смотри в **examples**!

<a id="feedback"></a>
## Баги и обратная связь
При нахождении багов создавайте **Issue**.  
Библиотека открыта для доработки и ваших **Pull Request**'ов!
